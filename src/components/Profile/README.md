# Profile Store - –ù–æ–≤—ã–π Store –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ù–æ–≤—ã–π zustand store (`profileStore.ts`) —Å–æ–∑–¥–∞–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª–Ω—ã–º –ø—Ä–æ—Ñ–∏–ª–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–¥–µ–ª–∏—Ç—å –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ—Ñ–∏–ª–µ–º –æ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

## üéØ –ß—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ profileStore

- **profile** - –ø–æ–ª–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (ProfileUser) - **–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ null**
- **isLoading** - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ (boolean)
- **error** - –æ—à–∏–±–∫–∞ (string | null)

## üîß –ú–µ—Ç–æ–¥—ã profileStore

### –†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ—Ñ–∏–ª–µ–º
- `getProfile()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è —Å —Å–µ—Ä–≤–µ—Ä–∞
- `updateProfile(data)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- `setProfile(profile)` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è –Ω–∞–ø—Ä—è–º—É—é
- `resetProfile()` - —Å–±—Ä–æ—Å –ø—Ä–æ—Ñ–∏–ª—è –∫ –Ω–∞—á–∞–ª—å–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º
- `clearError()` - –æ—á–∏—Å—Ç–∫–∞ –æ—à–∏–±–∫–∏

## üì¶ –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

### ProfileUser - –ü–æ–ª–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–í–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –ø–æ–ª—è –∏–∑ `AuthUser` –ø–ª—é—Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:

```typescript
interface ProfileUser {
  // –ë–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
  id: string;
  email: string;
  name: string;
  surname: string;
  lastname: string;
  phone: string;
  token: string;
  pincode?: string;
  
  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –ø—Ä–æ—Ñ–∏–ª—è
  monthes: number;        // –õ–∏–º–∏—Ç –º–µ—Å—è—Ü–µ–≤ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –ø–æ–∫–∞–∑–∞–Ω–∏–π
  borders: {              // –î–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –ø–æ–∫–∞–∑–∞–Ω–∏–π
    from: number;
    to: number;
  };
  passport?: {            // –ü–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    serial: string;
    number: string;
    issuedDate: string;
    issuedBy: string;
    codePodr: string;
  };
  
  // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
  password?: string;
  consenttoemail?: boolean;
  consenttosms?: boolean;
}
```

## üìù –°–µ–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

–î–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ª–∏—à–Ω–∏—Ö —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–µ–ª–µ–∫—Ç–æ—Ä—ã:

```typescript
import { useProfileData, useProfileLoading, useProfileError } from './profileStore';

const profile = useProfileData();  // —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è
const isLoading = useProfileLoading();  // —Ç–æ–ª—å–∫–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏
const error = useProfileError();  // —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∞
```

## üîÑ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ß–µ—Ä–µ–∑ —Ö—É–∫ useProfile (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```typescript
import { useProfile } from './useProfile';

function ProfileComponent() {
  const { profile, isLoading, error, save, refresh } = useProfile();
  
  const handleSave = async () => {
    await save({
      email: 'new@email.com',
      passport: { ... }
    });
  };
  
  return (
    <div>
      {isLoading && <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>}
      {error && <div>–û—à–∏–±–∫–∞: {error}</div>}
      <div>{profile.name}</div>
    </div>
  );
}
```

### –ù–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ store

```typescript
import { useProfileStore, useProfileData } from './profileStore';

function ProfileComponent() {
  const profile = useProfileData();
  const { getProfile, updateProfile } = useProfileStore();
  
  useEffect(() => {
    getProfile();
  }, []);
  
  return <div>{profile.name}</div>;
}
```

## üîê –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

Store –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ `authGetters.getToken()` –∏–∑ `authStore`, –ø–æ—ç—Ç–æ–º—É –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ç–æ–∫–µ–Ω —è–≤–Ω–æ.

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

1. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**: –ü—Ä–æ—Ñ–∏–ª—å –æ—Ç–¥–µ–ª–µ–Ω –æ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ —É–º–µ–Ω—å—à–∞–µ—Ç —Ä–µ-—Ä–µ–Ω–¥–µ—Ä—ã
3. **–¢–∏–ø–∏–∑–∞—Ü–∏—è**: –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª—è
4. **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `api()` –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ `fetch`
5. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ—Ñ–∏–ª–µ–º

## üìö –ú–∏–≥—Ä–∞—Ü–∏—è —Å loginStore

### –ß—Ç–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ:
- ‚úÖ `getProfile()` - —Ç–µ–ø–µ—Ä—å –≤ `profileStore`
- ‚úÖ `updateProfile()` - —Ç–µ–ø–µ—Ä—å –≤ `profileStore`
- ‚úÖ –ü–æ–ª–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `ProfileUser` —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏

### –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å –≤ —Å—Ç–∞—Ä–æ–º loginStore:
- –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã (login, create, restore, etc.)
- –ú–æ–∂–Ω–æ –±—É–¥–µ—Ç —É–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏

## üîÑ –ü–ª–∞–Ω –¥–∞–ª—å–Ω–µ–π—à–µ–π –º–∏–≥—Ä–∞—Ü–∏–∏

1. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è (monthes, borders)
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. –£–¥–∞–ª–∏—Ç—å –º–µ—Ç–æ–¥—ã –ø—Ä–æ—Ñ–∏–ª—è –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ `loginStore`
